{"version":3,"sources":["webpack:///./src/views/dnspod/config.vue?e5e7","webpack:///./src/views/dnspod/config.vue","webpack:///./src/api/config.js","webpack:///./src/views/dnspod/config.vue?bbb8"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_el_form","ref","model","$data","rules","label-width","style","_component_el_form_item","label","prop","_component_el_input","token","$event","trim","autocomplete","_hoisted_2","cron","_hoisted_3","_component_el_button","type","size","onClick","$options","basicUrl","getConfig","request","url","method","saveConfig","data","params","name","form","required","trigger","message","created","this","methods","then","res","code","save","$refs","validate","valid","$confirm","confirmButtonText","cancelButtonText","$message","__exports__","render"],"mappings":"gHAAA,W,uLCCSA,MAAM,oB,uBAICC,gCAAoH,KAAjHD,MAAM,OAAK,CAACC,gCAAwC,KAArCD,MAAM,6BAAV,6BAAyC,+DAAvD,M,uBAIAC,gCAA6E,KAA1ED,MAAM,OAAK,CAACC,gCAAwC,KAArCD,MAAM,6BAAV,6BAAyC,wBAAvD,M,+BAG0E,O,gPAXtFE,gCAcM,MAdN,EAcM,CAbFC,yBAYUC,EAAA,CAZDC,IAAI,OAAQC,MAAOC,OAAOC,MAAOD,QAAOE,cAAY,QAAQC,MAAA,wBAArE,C,8BACI,iBAGe,CAHfP,yBAGeQ,EAAA,CAHDC,MAAM,QAAQC,KAAK,QAAQH,MAAA,iBAAzC,C,8BACI,iBAAkE,CAAlEP,yBAAkEW,EAAA,C,WAA1CP,OAAKQ,M,qDAALR,OAAKQ,MAAKC,I,eAAxB,CAAAC,SAA0BC,aAAa,OAAjD,uBACAC,M,MAEJhB,yBAGeQ,EAAA,CAHDC,MAAM,UAAUC,KAAK,OAAOH,MAAA,iBAA1C,C,8BACI,iBAAiE,CAAjEP,yBAAiEW,EAAA,C,WAAzCP,OAAKa,K,qDAALb,OAAKa,KAAIJ,I,eAAvB,CAAAC,SAAyBC,aAAa,OAAhD,uBACAG,M,MAEJlB,yBAEeQ,EAAA,M,8BADX,iBAAyF,CAAzFR,yBAAyFmB,EAAA,CAA9EC,KAAK,UAAUC,KAAK,QAAQd,MAAA,gBAAsBe,QAAOC,QAApE,C,8BAA0E,iBAAG,O,KAA7E,mB,eAVR,uB,wCCAFC,EAAW,gBAEV,SAASC,IACd,OAAOC,eAAQ,CACbC,IAAKH,EAAW,aAChBI,OAAQ,QAIL,SAASC,EAAWC,GACzB,OAAOJ,eAAQ,CACbC,IAAKH,EAAW,cAChBI,OAAQ,OACRG,OAAQ,CACNnB,MAAOkB,EAAKlB,MACZK,KAAMa,EAAKb,QDGE,OACXe,KAAM,SACNF,KAFW,WAGP,MAAO,CACHG,KAAM,CACFrB,MAAO,GACPK,KAAM,IAEVZ,MAAO,CACHO,MAAO,CAAC,CAAEsB,UAAU,EAAMC,QAAS,OAAQC,QAAS,iBACpDnB,KAAM,CAAC,CAAEiB,UAAU,EAAMC,QAAS,OAAQC,QAAS,kBAI/DC,QAdW,WAeTC,KAAKb,aAEPc,QAAS,CACLd,UADK,WACO,WACRA,IAAYe,MAAK,SAACC,GACE,KAAZA,EAAIC,OACJ,EAAKT,KAAKrB,MAAQ6B,EAAIX,KAAKlB,MAC3B,EAAKqB,KAAKhB,KAAOwB,EAAIX,KAAKb,UAItC0B,KATK,WASE,WACHL,KAAKM,MAAM,QAAQC,SAAnB,uDAA4B,WAAOC,GAAP,mFACtBA,EADsB,gBAEtB,EAAKC,SAAS,aAAc,KAAM,CAC9BC,kBAAmB,KACnBC,iBAAkB,KAClB7B,KAAM,UACN,wBAAwB,IACzBoB,MAAK,WACJX,EAAW,EAAKI,MAAMO,MAAK,SAACC,GACR,KAAZA,EAAIC,KACJ,EAAKQ,SAAS,CAAE9B,KAAM,UAAWgB,QAASK,EAAIL,UAE9C,EAAKc,SAAS,CAAE9B,KAAM,QAASgB,QAASK,EAAIL,gBAZlC,gDAiBf,GAjBe,2CAA5B,kCAAAE,KAAA,mB,iCExChB,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-548caef4.3bdd0bbc.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./config.vue?vue&type=style&index=0&id=21c3a21c&scoped=true&lang=css\"","<template>\r\n    <div class=\"config-container\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" style=\"margin-top: 100px\">\r\n            <el-form-item label=\"Token\" prop=\"token\" style=\"width: 500px\">\r\n                <el-input v-model.trim=\"form.token\" autocomplete=\"off\"></el-input>\r\n                <p class=\"tip\"><i class=\"fa fa-exclamation-circle\"></i>DNSPOD的id，token，例如：12345,7676f344eaeaea9074c123451234512d</p>\r\n            </el-form-item>\r\n            <el-form-item label=\"Cron表达式\" prop=\"cron\" style=\"width: 500px\">\r\n                <el-input v-model.trim=\"form.cron\" autocomplete=\"off\"></el-input>\r\n                <p class=\"tip\"><i class=\"fa fa-exclamation-circle\"></i>Cron表达式，用于设置任务启动时间</p>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"primary\" size=\"large\" style=\"width: 120px\" @click=\"save\">保 存</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { getConfig, saveConfig } from \"@/api/config\"\r\n    export default {\r\n        name: \"config\",\r\n        data() {\r\n            return {\r\n                form: {\r\n                    token: '',\r\n                    cron: ''\r\n                },\r\n                rules: {\r\n                    token: [{ required: true, trigger: \"blur\", message: \"请输入域名解析Token\" }],\r\n                    cron: [{ required: true, trigger: \"blur\", message: \"请输入Cron表达式\" }],\r\n                },\r\n            }\r\n        },\r\n        created() {\r\n          this.getConfig()\r\n        },\r\n        methods: {\r\n            getConfig() {\r\n                getConfig().then((res) => {\r\n                    if (res.code == 200) {\r\n                        this.form.token = res.data.token\r\n                        this.form.cron = res.data.cron\r\n                    }\r\n                })\r\n            },\r\n            save() {\r\n                this.$refs[\"form\"].validate(async (valid) => {\r\n                  if (valid) {\r\n                      this.$confirm(\"你确定要保存该配置？\", \"提示\", {\r\n                          confirmButtonText: \"确定\",\r\n                          cancelButtonText: \"取消\",\r\n                          type: \"warning\",\r\n                          \"close-on-click-modal\": false,\r\n                      }).then(() => {\r\n                          saveConfig(this.form).then((res) => {\r\n                              if (res.code == 200) {\r\n                                  this.$message({ type: \"success\", message: res.message });\r\n                              } else {\r\n                                  this.$message({ type: \"error\", message: res.message });\r\n                              }\r\n                          })\r\n                      })\r\n                  } else {\r\n                      return false;\r\n                  }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.tip {\r\n    font-size: 12px;\r\n    color: #909399;\r\n}\r\n</style>\r\n","import request from \"@/utils/request\";\n\nconst basicUrl = \"/admin/config\"\n\nexport function getConfig() {\n  return request({\n    url: basicUrl + \"/getConfig\",\n    method: \"get\",\n  });\n}\n\nexport function saveConfig(data) {\n  return request({\n    url: basicUrl + \"/saveConfig\",\n    method: \"post\",\n    params: {\n      token: data.token,\n      cron: data.cron\n    }\n  });\n}","import { render } from \"./config.vue?vue&type=template&id=21c3a21c&scoped=true\"\nimport script from \"./config.vue?vue&type=script&lang=js\"\nexport * from \"./config.vue?vue&type=script&lang=js\"\n\nimport \"./config.vue?vue&type=style&index=0&id=21c3a21c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\我的项目\\\\vue-dnspod\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21c3a21c\"]])\n\nexport default __exports__"],"sourceRoot":""}